<!-- <!DOCTYPE html>
<html lang="ko" xmlns:th="http://www.thymeleaf.org"
	xmlns:layout="http://www.ultraq.net.nz/thymeleaf/layout"
	>

		<form method="post" th:action="@{/employee/add}" th:object="${employee}" onsubmit="return close()">
			<input type="text" th:field="*{name}" placeholder="name"/>
			<input type="text" th:field="*{juminNum}" placeholder="jumin"/>
			<input type="text" th:field="*{telNum}" placeholder="tel"/>
			<input type="text" th:field="*{email}" placeholder="email"/>
			<input type="text" th:field="*{depNo}" placeholder="depNo"/>
			<input type="text" th:field="*{jikup}" placeholder="jikup"/>
			<input type="submit"/>
		</form>
		
    <script>
      function close() { 
        window.open("about:blank","_self").close();
      }
      
    </script>
</html>
			
 -->
<!DOCTYPE html>
<html lang="ko" xmlns:th="http://www.thymeleaf.org" xmlns:layout="http://www.ultraq.net.nz/thymeleaf/layout">
<head>
<script src="https://cdn.jsdelivr.net/npm/axios/dist/axios.min.js"></script>
</head>
<body>
    <form id="employeeForm" th:action="@{/employee/add}" th:object="${employee}" method="post" onsubmit="return close()">
         <input type="text" id="name" th:field="*{name}" placeholder="이름" />
        <input type="text" id="juminNum" th:field="*{juminNum}" placeholder="주민번호" />
        <input type="text" id="telNum" th:field="*{telNum}" placeholder="전화번호" />
        <input type="text" id="email" th:field="*{email}" placeholder="이메일" />
        
        <select id="dep_no" name="부서" th:field="*{dep_no}" >
        <option value="">부서선택</option>
            <option value="1">부서1</option>
            <option value="2">부서2</option>
            <option value="3">부서3</option>
            <option value="99">부서4</option></select>
            
        <select id="jikup" name="직급"  th:field="*{jikup}">
        <option value="">직급선택</option>
        <option value="사장"> 사장</option>
        <option value="부장"> 부장</option>
        <option value="과장"> 과장</option>
        <option value="대리"> 대리</option>
        <option value="사원"> 사원</option>
        </select>
        <button type="submit" value="직원 추가" onclick="addEmployee()" >직원 추가</button>
    </form>
    
  <script>
  function addEmployee() {
      const name = document.getElementById("name").value;
      const juminNum = document.getElementById("juminNum").value;
      const telNum = document.getElementById("telNum").value;
      const email = document.getElementById("email").value;
      const depNo = document.getElementById("dep_no").value;
      const jikup = document.getElementById("jikup").value;
      
      if (!name || !juminNum || !telNum || !email || !depNo || !jikup) {
          alert("모든 필수 정보를 입력해야 합니다.");
          return; // 폼을 제출하지 않음
      }

      console.log("name",name)
      console.log("juminNum",juminNum)
      const formData = new FormData();
      formData.append("name", name);
      formData.append("juminNum", juminNum);
      formData.append("telNum", telNum);
      formData.append("email", email);
      formData.append("dep_no", depNo);
      formData.append("jikup", jikup);
      
      }
 /*      // Axios를 사용하여 서버로 POST 요청 보내기
      axios.post("/employee/add", formData)
          .then(function (response) {
              alert("직원이 성공적으로 추가되었습니다.");
              close();
          })
          .catch(function (error) {
              alert("직원 추가 중 오류가 발생했습니다.");
          });
  } */
 

      
      function close() { 
        window.open("about:blank","_self").close();
      }

</script>
</body>
</html>